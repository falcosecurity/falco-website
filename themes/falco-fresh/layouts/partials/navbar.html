{{- $navbar := .Site.Params.navbar }}
{{- $menu   := index $navbar "menu"}}
{{- $cncf   := index $navbar "cncf" }}
<nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="{{ "/" | absURL }}">
        <img class="navbar-brand__logo" src="{{ "/images/logos/falco-logo.png" | absURL }}" alt="">
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    
    <div id="navbar-menu" class="navbar-menu is-static">

      <div class="navbar-start">
        {{- range $menu }}
        {{- if .sublinks }}
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            {{ .title }}
          </a>

          <div class="navbar-dropdown">
            {{- range .sublinks }}
            <a href="{{ .url }}" class="navbar-item">
              {{ .title }}
            </a>
            {{- end }}
          </div>
        </div>
        {{- else if .button }}
        <a href="{{ .url }}" class="navbar-item">
          <span class="button signup-button rounded secondary-btn raised">
            {{ .title }}
          </span>
        </a>
        {{- else }}
        <a href="{{ .url }}" class="navbar-item is-secondary">
          {{ .title }}
        </a>
        {{- end }}
        {{- end }}
      </div>

      <div class="navbar-end">
        <div class="c-cncf">
          <a href="{{ $cncf.cncfLink }}">
            <img class="c-cncf__img" src="{{ printf "/images/logos/%s" $cncf.logo | relURL }}">
          </a>
          <p>
            Falco is a CNCF <a href="{{ $cncf.levelLink }}">{{ $cncf.level }}</a> level project.
          </p>
        </div>
    </div>

  </div>
</nav>